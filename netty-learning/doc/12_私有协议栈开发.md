### 概念

广义上区分，通信协议可以分为公有协议和私有协议。由于私有协议的灵活性，它往往会在某个公司或者组织内部使用，按需定制，也因为如此，升级起来会非常方便，灵活性好。

绝大多数的私有协议传输层都基于`TCP/IP`，所以利用`Netty`的`NIO/TCP`协议栈可以非常方便地进行私有协议的定制和开发。

---
### 私有协议介绍

私有协议本质上是厂商内部发展和采用的标准，除非授权，其他厂商一般无权使用该协议。

私有协议也称非标准协议，就是未经国际或国家标准化组织采纳或批准，由某个企业自己制订，协议实现细节不愿公开，只在企业自己生产的设备之间使用的协议。

由于现代软件系统的复杂性，一个大型软件系统往往会被人为地拆分成多个模块，另外随着移动互联网的兴起，网站的规模也越来越大，业务的功能越来越多，为了能够支撑业务的发展，往往需要集群和分布式部署，这样，各个模块之间就要进行跨节点通信。

在传统的Java应用中，通常使用以下4种方式进行跨节点通信。

* 通过`RMI`进行远程服务调用；
* 通过`Java`的`Socket+Java`序列化的方式进行跨节点调用;
* 利用一些开源的`RPC`框架进行远程服务调用，例如`Facebook`的`Thrift`、`Apache`的`Avro`等;
* 利用标准的公有协议进行跨节点服务调用，例如`HTTP+XML`、`RESTfuI+JSON`或者`WebService`;

跨节点的远程服务调用，除了链路层的物理连接外，还需要对请求和响应消息进行编解码。

在请求和应答消息本身以外，也需要携带一些其他控制和管理类指令，例如链路建立的握手请求和响应消息、链路检测的心跳消息等。

当这些功能组合到一起之后，就会形成私有协议。

---
代码目录

`netty_private_protocol`